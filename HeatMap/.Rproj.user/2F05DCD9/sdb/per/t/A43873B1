{
    "collab_server" : "",
    "contents" : "install.packages(\"fields\")\nlibrary(\"fields\")\n\n#combine two dimensional location information \nx1=cbind(loc[,1],loc[,2])\n#y1 is vector of y-values for each location \n\nage <- pos_new[,1]\nbage <- pos_new[,2]\npos = cbind(bage,age)\npos\ny1 = z_val\n\n\n\nfit1<-Tps(pos,y1)\n# there are more options, such as fit1<-Tps(x1,y1,m=2,lambda= 1e-2,lon.lat=TRUE, theta=210)\n\n#make a finer grid of values based on the thin plate splie fit above\ngrid.list<- list( x= 1:4, y=1:10)   #Note - these ranges will need to be changed for your needs\nxg<- make.surface.grid(grid.list)\n\n#plotting function - modify as needed, including changing zlim to cover the range of y-values \ndev.off()\ndev.new()\nf1<- predict( fit1, xg)\nout.p<- as.surface( xg, f1)\n#plot.surface(out.p,zlim=c(0,100),xlab='Age',ylab='Calendar year',main='BMI - white male Q1',cex.main=1.3,cex.lab=1.3)\nbest_plot = plot.surface(out.p,zlim=c(15,35),ylab='clock position',xlab='length in (cm) from GEJ',main='Esophagus',cex.main=1.3,cex.lab=1.3,yaxt = 'n')\nbest_plot\n",
    "created" : 1469839902508.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2295787452",
    "id" : "A43873B1",
    "lastKnownWriteTime" : 1470295152,
    "last_content_update" : 1470295152594,
    "path" : "C:/Users/hansg17/Downloads/TPS_plot.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}